<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lua Script Directory | Chalwk's Blog</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Source+Code+Pro:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../website/styles/hsp-page-style.css">
</head>
<body>

<!-- Header -->
<header class="header">
    <a href="#" class="logo">
        <i class="fas fa-code"></i>
        Chalwk
    </a>

    <ul class="nav-links">
        <li><a href="../index.html">Home</a></li>
        <li><a href="#" class="active">Scripts</a></li>
        <li><a href="../index.html#contact">Contact</a></li>
    </ul>

    <a href="../index.html#blog" class="back-btn">
        <i class="fas fa-arrow-left"></i>
        Back to Blog
    </a>
</header>

<!-- Main Content -->
<div class="container">
    <div class="page-title">
        <h1>Lua Script Directory</h1>
        <p>Browse and download Lua scripts for Halo PC/CE SAPP and Phasor servers</p>
    </div>

    <!-- Script Grid -->
    <div class="script-grid">
        <!-- Script 1 -->
        <div class="script-card">
            <div class="script-header">
                <h3><i class="fas fa-shield-alt"></i> Admin Tools</h3>
                <p>Essential utilities for server administration</p>
                <div class="script-meta">
                    <span><i class="fas fa-user"></i> Chalwk</span>
                    <span><i class="fas fa-calendar"></i> Aug 12, 2025</span>
                    <span><i class="fas fa-download"></i> 142</span>
                </div>
            </div>
            <div class="script-content">
                <div class="script-description">
                    <p>A comprehensive suite of admin tools including player management, ban systems, and server monitoring utilities.</p>
                </div>
                <div class="script-actions">
                    <button class="action-btn view-btn" data-script="admin-tools">
                        <i class="fas fa-eye"></i> View Script
                    </button>
                    <button class="action-btn copy-btn" data-clipboard-target="#admin-tools">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <button class="action-btn download-btn" data-download="admin-tools.lua">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            </div>
        </div>

        <!-- Script 2 -->
        <div class="script-card">
            <div class="script-header">
                <h3><i class="fas fa-gamepad"></i> Gun Game</h3>
                <p>Popular progressive weapon game mode</p>
                <div class="script-meta">
                    <span><i class="fas fa-user"></i> Chalwk</span>
                    <span><i class="fas fa-calendar"></i> Jul 28, 2025</span>
                    <span><i class="fas fa-download"></i> 217</span>
                </div>
            </div>
            <div class="script-content">
                <div class="script-description">
                    <p>Implement the popular Gun Game mode where players progress through weapons with each kill.</p>
                </div>
                <div class="script-actions">
                    <button class="action-btn view-btn" data-script="gun-game">
                        <i class="fas fa-eye"></i> View Script
                    </button>
                    <button class="action-btn copy-btn" data-clipboard-target="#gun-game">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <button class="action-btn download-btn" data-download="gun-game.lua">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            </div>
        </div>

        <!-- Script 3 -->
        <div class="script-card">
            <div class="script-header">
                <h3><i class="fas fa-tachometer-alt"></i> Performance Monitor</h3>
                <p>Server performance tracking and reporting</p>
                <div class="script-meta">
                    <span><i class="fas fa-user"></i> Chalwk</span>
                    <span><i class="fas fa-calendar"></i> Aug 5, 2025</span>
                    <span><i class="fas fa-download"></i> 89</span>
                </div>
            </div>
            <div class="script-content">
                <div class="script-description">
                    <p>Monitor server performance metrics including FPS, memory usage, and network statistics in real-time.</p>
                </div>
                <div class="script-actions">
                    <button class="action-btn view-btn" data-script="performance-monitor">
                        <i class="fas fa-eye"></i> View Script
                    </button>
                    <button class="action-btn copy-btn" data-clipboard-target="#performance-monitor">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <button class="action-btn download-btn" data-download="performance-monitor.lua">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            </div>
        </div>

        <!-- Script 4 -->
        <div class="script-card">
            <div class="script-header">
                <h3><i class="fas fa-user-friends"></i> Team Balancer</h3>
                <p>Dynamic team balancing system</p>
                <div class="script-meta">
                    <span><i class="fas fa-user"></i> Chalwk</span>
                    <span><i class="fas fa-calendar"></i> Jul 15, 2025</span>
                    <span><i class="fas fa-download"></i> 175</span>
                </div>
            </div>
            <div class="script-content">
                <div class="script-description">
                    <p>Automatically balance teams based on player skill, connection quality, and team composition.</p>
                </div>
                <div class="script-actions">
                    <button class="action-btn view-btn" data-script="team-balancer">
                        <i class="fas fa-eye"></i> View Script
                    </button>
                    <button class="action-btn copy-btn" data-clipboard-target="#team-balancer">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <button class="action-btn download-btn" data-download="team-balancer.lua">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            </div>
        </div>

        <!-- Script 5 -->
        <div class="script-card">
            <div class="script-header">
                <h3><i class="fas fa-medal"></i> Achievement System</h3>
                <p>Reward players for accomplishments</p>
                <div class="script-meta">
                    <span><i class="fas fa-user"></i> Chalwk</span>
                    <span><i class="fas fa-calendar"></i> Aug 3, 2025</span>
                    <span><i class="fas fa-download"></i> 123</span>
                </div>
            </div>
            <div class="script-content">
                <div class="script-description">
                    <p>Implement an achievement system with unlockable rewards, stat tracking, and player progression.</p>
                </div>
                <div class="script-actions">
                    <button class="action-btn view-btn" data-script="achievement-system">
                        <i class="fas fa-eye"></i> View Script
                    </button>
                    <button class="action-btn copy-btn" data-clipboard-target="#achievement-system">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <button class="action-btn download-btn" data-download="achievement-system.lua">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            </div>
        </div>

        <!-- Script 6 -->
        <div class="script-card">
            <div class="script-header">
                <h3><i class="fas fa-robot"></i> Bot Manager</h3>
                <p>Advanced AI bot management system</p>
                <div class="script-meta">
                    <span><i class="fas fa-user"></i> Chalwk</span>
                    <span><i class="fas fa-calendar"></i> Jul 22, 2025</span>
                    <span><i class="fas fa-download"></i> 98</span>
                </div>
            </div>
            <div class="script-content">
                <div class="script-description">
                    <p>Control and customize bot behavior, difficulty levels, and team assignments for enhanced gameplay.</p>
                </div>
                <div class="script-actions">
                    <button class="action-btn view-btn" data-script="bot-manager">
                        <i class="fas fa-eye"></i> View Script
                    </button>
                    <button class="action-btn copy-btn" data-clipboard-target="#bot-manager">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <button class="action-btn download-btn" data-download="bot-manager.lua">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Script Detail View -->
    <div class="script-detail" id="scriptDetail">
        <div class="script-detail-header">
            <h2 id="scriptTitle">Admin Tools</h2>
            <button class="close-btn" id="closeDetail">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <div class="script-description">
            <p id="scriptFullDescription">A comprehensive suite of admin tools including player management, ban systems, and server monitoring utilities. This script provides essential functionality for maintaining a healthy server environment and managing player behavior effectively.</p>
        </div>

        <div class="code-container">
            <div class="code-header">
                <div>script.lua</div>
                <div class="code-actions">
                    <button class="copy-code" id="copyCodeBtn">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <button class="download-code" id="downloadCodeBtn">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            </div>
            <pre><code class="language-lua" id="scriptCode"></code></pre>
        </div>
    </div>
</div>

<!-- Toast Notification -->
<div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <span>Code copied to clipboard!</span>
</div>

<!-- Footer -->
<footer class="footer">
    <p>&copy; 2025 Chalwk. All rights reserved.</p>
    <p>Halo Script Projects - Enhancing Halo PC/CE server experiences</p>
    <div class="social-links">
        <a href="#"><i class="fab fa-github"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-discord"></i></a>
        <a href="#"><i class="fab fa-youtube"></i></a>
    </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>
    // Initialize syntax highlighting
    hljs.highlightAll();

    // Sample Lua scripts
    const scripts = {
        'admin-tools': {
            title: 'Admin Tools',
            description: 'A comprehensive suite of admin tools including player management, ban systems, and server monitoring utilities. This script provides essential functionality for maintaining a healthy server environment and managing player behavior effectively.',
            code: `-- Admin Tools Script for Halo PC/CE
-- Version 2.1.0
-- Created by Chalwk

local admin = {}

function admin.OnScriptLoad()
-- Register admin commands
register_callback(cb['EVENT_COMMAND'], "OnCommand")
register_callback(cb['EVENT_JOIN'], "OnPlayerJoin")
register_callback(cb['EVENT_LEAVE'], "OnPlayerLeave")

-- Initialize admin list
admin.admins = {
    "Chalwk",
    "Admin2",
    "Admin3"
}

-- Load ban list from file
admin.LoadBanList()

cprint("Admin Tools v2.1.0 loaded successfully!", 10)
end

function admin.OnPlayerJoin(player)
local name = get_var(player, "$name")
if admin.IsBanned(name) then
    execute_command("k " .. player .. " Banned from this server")
end
end

function admin.LoadBanList()
admin.banList = {}
local file = io.open("bans.txt", "r")
if file then
    for line in file:lines() do
        table.insert(admin.banList, line)
    end
    file:close()
end
end

function admin.IsBanned(name)
for _, bannedName in ipairs(admin.banList) do
    if name:lower() == bannedName:lower() then
        return true
    end
end
return false
end

function admin.OnCommand(player, command)
local args = {}
for word in command:gmatch("%S+") do
    table.insert(args, word)
end

if #args == 0 then return end

local cmd = args[1]:lower()
table.remove(args, 1)

-- Kick command
if cmd == "kick" and #args >= 1 then
    if admin.IsAdmin(player) then
        local target = args[1]
        local reason = "Kicked by admin"
        if #args > 1 then
            reason = table.concat(args, " ", 2)
        end
        execute_command("k " .. target .. " " .. reason)
        admin.MessageAdmins(get_var(player, "$name") .. " kicked " .. get_var(target, "$name") .. ": " .. reason)
    end
-- Ban command
elseif cmd == "ban" and #args >= 1 then
    if admin.IsAdmin(player) then
        local target = args[1]
        local reason = "Banned by admin"
        if #args > 1 then
            reason = table.concat(args, " ", 2)
        end
        local name = get_var(target, "$name")
        admin.BanPlayer(name, reason)
        execute_command("k " .. target .. " " .. reason)
        admin.MessageAdmins(get_var(player, "$name") .. " banned " .. name .. ": " .. reason)
    end
end
end

function admin.BanPlayer(name, reason)
table.insert(admin.banList, name)
local file = io.open("bans.txt", "a")
if file then
    file:write(name .. "\\n")
    file:close()
end
end

function admin.IsAdmin(player)
local name = get_var(player, "$name"):lower()
for _, adminName in ipairs(admin.admins) do
    if adminName:lower() == name then
        return true
    end
end
return false
end

function admin.MessageAdmins(message)
for i = 1, 16 do
    if player_present(i) then
        if admin.IsAdmin(i) then
            rprint(i, "|cADMIN: |c" .. message)
        end
    end
end
end

return admin`
        },
        'gun-game': {
            title: 'Gun Game',
            description: 'Implement the popular Gun Game mode where players progress through weapons with each kill. Players start with basic weapons and advance to more powerful ones as they get kills. The first player to get a kill with the final weapon wins the game.',
            code: `-- Gun Game Script for Halo PC/CE
-- Version 1.5.0
-- Created by Chalwk

local gunGame = {
weapons = {
    "assault rifle",
    "magnum",
    "plasma pistol",
    "shotgun",
    "sniper rifle",
    "rocket launcher",
    "energy sword"
},
playerLevels = {}
}

function gunGame.OnScriptLoad()
register_callback(cb['EVENT_DIE'], "OnPlayerDeath")
register_callback(cb['EVENT_JOIN'], "OnPlayerJoin")
register_callback(cb['EVENT_GAME_END'], "OnGameEnd")

-- Initialize player levels
for i = 1, 16 do
    if player_present(i) then
        gunGame.playerLevels[i] = 1
        gunGame.GiveWeapon(i, gunGame.weapons[1])
    end
end

cprint("Gun Game v1.5.0 loaded successfully!", 10)
end

function gunGame.OnPlayerJoin(player)
gunGame.playerLevels[player] = 1
gunGame.GiveWeapon(player, gunGame.weapons[1])
end

function gunGame.OnPlayerDeath(victim, killer)
if killer == 0 then return end  -- Suicide or environmental death

local currentLevel = gunGame.playerLevels[killer] or 1
local nextLevel = currentLevel + 1

if nextLevel > #gunGame.weapons then
    -- Player has won the game
    execute_command("msg \"Player " .. get_var(killer, "$name") .. " has won the Gun Game!\"")
    gunGame.playerLevels[killer] = 1
    gunGame.GiveWeapon(killer, gunGame.weapons[1])
else
    -- Advance to next weapon
    gunGame.playerLevels[killer] = nextLevel
    gunGame.GiveWeapon(killer, gunGame.weapons[nextLevel])
    rprint(killer, "|cAdvanced to weapon: " .. gunGame.weapons[nextLevel])
end

-- Reset victim to level 1
gunGame.playerLevels[victim] = 1
gunGame.GiveWeapon(victim, gunGame.weapons[1])
end

function gunGame.GiveWeapon(player, weaponName)
execute_command("wdel " .. player)
execute_command("w " .. player .. " " .. weaponName)
end

function gunGame.OnGameEnd()
-- Reset all players for next game
for i = 1, 16 do
    if player_present(i) then
        gunGame.playerLevels[i] = 1
    end
end
end

return gunGame`
        },
        'performance-monitor': {
            title: 'Performance Monitor',
            description: 'Monitor server performance metrics including FPS, memory usage, and network statistics in real-time. This script provides valuable insights for server optimization and troubleshooting performance issues.',
            code: `-- Server Performance Monitor
-- Version 1.2.0
-- Created by Chalwk

local perfMon = {
interval = 30,  -- Seconds between reports
lastReport = 0
}

function perfMon.OnScriptLoad()
register_callback(cb['EVENT_TICK'], "OnTick")
register_callback(cb['EVENT_GAME_START'], "OnGameStart")

cprint("Performance Monitor v1.2.0 loaded", 10)
end

function perfMon.OnGameStart()
perfMon.lastReport = 0
end

function perfMon.OnTick()
local currentTime = get_var(0, "$time")
if currentTime - perfMon.lastReport > perfMon.interval then
    perfMon.lastReport = currentTime
    perfMon.ReportPerformance()
end
end

function perfMon.ReportPerformance()
local fps = get_var(0, "$fps")
local players = get_var(0, "$players")
local memory = collectgarbage("count")

local report = string.format(
    "|cPERF: |cFPS: %.1f | Players: %d | Memory: %.2f MB",
    fps, players, memory / 1024
)

-- Send to all admins
for i = 1, 16 do
    if player_present(i) and perfMon.IsAdmin(i) then
        rprint(i, report)
    end
end

-- Log to file
local logEntry = string.format(
    "[%s] FPS: %.1f | Players: %d | Memory: %.2f MB",
    os.date("%Y-%m-%d %H:%M:%S"), fps, players, memory / 1024
)
perfMon.LogToFile("performance.log", logEntry)
end

function perfMon.LogToFile(filename, message)
local file = io.open(filename, "a")
if file then
    file:write(message .. "\\n")
    file:close()
end
end

function perfMon.IsAdmin(player)
-- In a real implementation, you would check if player is admin
return true
end

return perfMon`
        }
    };

    // Show script detail
    document.querySelectorAll('.view-btn').forEach(button => {
        button.addEventListener('click', function() {
            const scriptId = this.getAttribute('data-script');
            const script = scripts[scriptId];

            if (script) {
                document.getElementById('scriptTitle').textContent = script.title;
                document.getElementById('scriptFullDescription').textContent = script.description;
                document.getElementById('scriptCode').textContent = script.code;
                hljs.highlightElement(document.getElementById('scriptCode'));

                document.getElementById('scriptDetail').style.display = 'block';

                // Scroll to the detail view
                document.getElementById('scriptDetail').scrollIntoView({ behavior: 'smooth' });
            }
        });
    });

    // Close script detail
    document.getElementById('closeDetail').addEventListener('click', function() {
        document.getElementById('scriptDetail').style.display = 'none';
    });

    // Copy code to clipboard
    document.getElementById('copyCodeBtn').addEventListener('click', function() {
        const code = document.getElementById('scriptCode').textContent;
        navigator.clipboard.writeText(code).then(() => {
            showToast('Code copied to clipboard!');
        });
    });

    // Download code
    document.getElementById('downloadCodeBtn').addEventListener('click', function() {
        const title = document.getElementById('scriptTitle').textContent.toLowerCase().replace(/\s+/g, '-');
        const code = document.getElementById('scriptCode').textContent;
        const blob = new Blob([code], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);

        const a = document.createElement('a');
        a.href = url;
        a.download = `${title}.lua`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);

        showToast('Download started!');
    });

    // Copy button on cards
    document.querySelectorAll('.copy-btn').forEach(button => {
        button.addEventListener('click', function() {
            const scriptId = this.getAttribute('data-clipboard-target').substring(1);
            const script = scripts[scriptId];

            if (script) {
                navigator.clipboard.writeText(script.code).then(() => {
                    showToast('Code copied to clipboard!');
                });
            }
        });
    });

    // Download button on cards
    document.querySelectorAll('.download-btn').forEach(button => {
        button.addEventListener('click', function() {
            const filename = this.getAttribute('data-download');
            const scriptId = filename.replace('.lua', '');
            const script = scripts[scriptId];

            if (script) {
                const blob = new Blob([script.code], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);

                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                showToast('Download started!');
            }
        });
    });

    // Show toast notification
    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.querySelector('span').textContent = message;
        toast.classList.add('show');

        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }
</script>
</body>
</html>