/* Utility */
* { box-sizing: border-box; margin: 0; padding: 0; }
.visually-hidden { position: absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }

/* Base */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    color: #222;
    line-height: 1.5;
    min-height: 100vh;
}

/* Container */
.app-container {
    display:flex;
    flex-direction:column;
    height:100vh;
    max-width:1200px;
    margin: 12px auto;
    background: white;
    box-shadow: 0 6px 18px rgba(0,0,0,0.06);
    border-radius: 8px;
    overflow: hidden;
}

/* Header */
.app-header {
    display:flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    background-color: #4a86e8;
    color: white;
}
.header-left { display:flex; gap: 12px; align-items:center; }
.header-left h1 { font-size:1.2rem; margin-right:8px; }
.header-controls { display:flex; gap:8px; align-items:center; }

.small-controls { display:flex; gap:6px; margin-left:6px; }

/* Edit banner */
.edit-banner {
    background: linear-gradient(90deg, rgba(234,67,53,0.08), rgba(234,67,53,0.03));
    color: #a33;
    padding: 8px 16px;
    display:flex;
    gap:12px;
    align-items:center;
}

/* Main */
.main-content { display:flex; flex-direction:column; flex:1; overflow:hidden; }

.phrase-bar {
    display:flex;
    gap:12px;
    padding:12px 16px;
    background:#f1f3f4;
    border-bottom: 1px solid #e6e9ec;
    align-items:center;
}
.phrase-display {
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    flex:1;
    min-height:48px;
    padding:10px;
    background: white;
    border-radius:8px;
    align-items:center;
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
}
.phrase-item {
    display:flex;
    align-items:center;
    gap:8px;
    padding:8px 12px;
    border-radius:20px;
    background:#e8f0fe;
    font-weight:600;
    cursor:grab;
    user-select:none;
}
.phrase-item:active { cursor:grabbing; }
.phrase-item img { width:20px; height:20px; object-fit:contain; }

/* Controls */
.phrase-controls { display:flex; gap:8px; align-items:center; }
.btn-primary, .btn-secondary, .btn-danger {
    padding:6px 10px; border-radius:6px; border: none; cursor:pointer; font-weight:600;
}
.btn-primary { background:#4a86e8; color:white; }
.btn-secondary { background:#f1f3f4; color:#222; }
.btn-danger { background:#ea4335; color:white; }

/* Board */
.board-container { flex:1; padding:14px; overflow:auto; }
.communication-board {
    display:grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap:14px;
}
.symbol {
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:14px 8px;
    border-radius:10px;
    background:#e8f0fe;
    cursor:pointer;
    transition: transform .14s ease, box-shadow .14s ease;
    min-height:120px;
    text-align:center;
    position:relative;
    outline: none;
}
.symbol:focus { box-shadow: 0 6px 18px rgba(74,134,232,0.18); transform: translateY(-6px); }
.symbol:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.08); }
.symbol img { width:56px; height:56px; object-fit:contain; margin-bottom:8px; }
.symbol span { font-weight:700; font-size:0.95rem; }

/* editing state */
.symbol.editing::after {
    content:"✏️";
    position:absolute; right:8px; top:8px; font-size:0.9rem;
}

/* dim when edit mode active */
.edit-mode .board-container { filter: brightness(.92) saturate(.98); }

/* Floating add button */
.floating-btn {
    position: fixed;
    bottom: 28px;
    right: 28px;
    width:56px; height:56px; border-radius:50%;
    background:#4a86e8; color:white; border:none; font-size:28px; cursor:pointer;
    box-shadow: 0 10px 28px rgba(0,0,0,0.12);
}

/* Modal */
.modal { display:none; position:fixed; inset:0; background: rgba(0,0,0,0.45); align-items:center; justify-content:center; z-index:60; }
.modal[aria-hidden="false"] { display:flex; }
.modal-content { background:white; width:92%; max-width:520px; border-radius:8px; box-shadow: 0 12px 40px rgba(0,0,0,0.18); overflow:hidden; }
.modal-header { padding:12px 16px; border-bottom:1px solid #eee; display:flex; justify-content:space-between; align-items:center; }
.modal-body { padding:16px; }
.close { cursor:pointer; font-size:20px; color:#666; }
.form-group { margin-bottom:12px; display:flex; flex-direction:column; gap:6px; }
.form-group input[type="text"], .form-group select, .form-group input[type="color"] {
    padding:8px 10px; border-radius:6px; border:1px solid #ddd;
}
.form-actions { display:flex; justify-content:space-between; align-items:center; margin-top:10px; }

/* category pills */
.category-pills { display:flex; gap:8px; align-items:center; }
.pill { padding:6px 10px; border-radius:999px; background:#f1f3f4; cursor:pointer; font-weight:600; }
.pill.active { background:#4a86e8; color:white; }

/* toast */
.toast { position: fixed; right: 18px; bottom: 100px; min-width:200px; max-width:320px; z-index:80; }

/* responsive */
@media (max-width: 768px) {
    .communication-board { grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); }
    .app-header { flex-direction:column; gap:10px; align-items:flex-start; padding:12px; }
}

@media (max-width:480px) {
    .communication-board { grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); }
    .phrase-controls { flex-wrap:wrap; gap:6px; }
}

/* Dark mode (toggle adds .dark on body) */
body.dark { background:#121216; color:#ddd; }
body.dark .app-container { background:#16161a; box-shadow:none; }
body.dark .app-header { background:#0b62b3; }
body.dark .phrase-display { background:#0f1720; }
body.dark .symbol { background:#122034; color:#dfefff; }

.app-footer {
    background-color: #f1f1f1; /* light gray background */
    color: #333; /* dark text */
    text-align: center;
    padding: 12px 0;
    font-size: 0.9rem;
    border-top: 1px solid #ccc;
    position: relative; /* ensures it flows with page content */
}